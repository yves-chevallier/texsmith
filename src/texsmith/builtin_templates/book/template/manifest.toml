[compat]
texsmith = ">=0.6,<1.0"

[latex.template]
name = "book"
version = "0.2.0"
entrypoint = "template/template.tex"
engine = "lualatex"
shell_escape = false
texlive_year = 2023
tlmgr_packages = [
    "babel",
    "babel-french",
    "csquotes",
    "fontspec",
    "fancyvrb",
    "geometry",
    "hyperref",
    "longtable",
    "microtype",
    "titlesec",
    "titletoc",
    "xcolor",
    "xunicode",
]
override = ["codeblock.tex", "codeinline.tex"]
fragments = [
    "ts-geometry",
    "ts-fonts",
    "ts-extra",
    "ts-keystrokes",
    "ts-callouts",
    "ts-code",
    "ts-glossary",
    "ts-index",
    "ts-bibliography",
    "ts-todolist",
]

[latex.template.attributes.base_level]
default = 0
type = "integer"
sources = ["press.base_level", "base_level"]

[latex.template.attributes.title]
default = "A LaTeX Book Template"
type = "string"
escape = "latex"
allow_empty = true
sources = ["press.title", "title"]

[latex.template.attributes.subtitle]
default = "An example of a book template for MkDocs LaTeX"
type = "string"
escape = "latex"
allow_empty = true
sources = ["press.subtitle", "subtitle"]

[latex.template.attributes.author]
default = "John Doe"
type = "string"
escape = "latex"
allow_empty = true
sources = ["press.author", "author"]

[latex.template.attributes.email]
default = "john.doe@acme.corp"
type = "string"
escape = "latex"
allow_empty = true
sources = ["press.email", "press.author.email", "email"]

[latex.template.attributes.date]
default = ""
type = "string"
escape = "latex"
allow_empty = true
sources = ["press.date", "date"]

[latex.template.attributes.language]
default = "english"
type = "string"
allow_empty = false
normaliser = "babel_language"
sources = ["press.language", "language"]

[latex.template.attributes.columns]
default = 1
type = "integer"
sources = ["press.columns", "columns"]

[latex.template.attributes.code]
default = { engine = "pygments" }
type = "mapping"
normaliser = "code_options"
sources = ["press.code", "code"]

[latex.template.attributes.hyperref_options]
default = "colorlinks=true, linkcolor=black, citecolor=black, plainpages=false, unicode=true, urlcolor=urlcolor"
type = "string"
allow_empty = true
sources = ["press.hyperref_options", "hyperref_options"]

[latex.template.attributes.paper]
type = "mapping"
sources = ["press.paper", "paper"]
default = { width = "160mm", height = "240mm", margin = { top = 20, bottom = 20, left = 20, right = 15 }, extra = { headheight = "6mm", headsep = "5mm", marginparsep = "4mm", heightrounded = true } }

[latex.template.attributes.cover]
default = "circles"
type = "string"
allow_empty = false
sources = ["press.cover", "cover"]

[latex.template.attributes.covercolor]
default = ""
type = "string"
allow_empty = true
sources = ["press.cover.color", "covercolor", "press.covercolor"]

[latex.template.attributes.edition]
default = ""
type = "string"
allow_empty = true
sources = ["press.edition", "edition"]

[latex.template.attributes.publisher]
default = ""
type = "string"
allow_empty = true
sources = ["press.publisher", "publisher"]

[latex.template.attributes.imprint_thanks]
default = ""
type = "string"
allow_empty = true
sources = ["press.imprint.thanks", "imprint.thanks"]

[latex.template.attributes.imprint_license]
default = ""
type = "string"
allow_empty = true
sources = ["press.imprint.license", "imprint.license"]

[latex.template.attributes.imprint_copyright]
default = ""
type = "string"
allow_empty = true
sources = ["press.imprint.copyright", "imprint.copyright"]

[latex.template.attributes.logo]
default = ""
type = "string"
allow_empty = true
sources = ["press.cover.logo", "press.logo", "logo"]

[latex.template.attributes.callout_style]
default = "fancy"
type = "string"
choices = ["fancy", "classic", "minimal"]
normaliser = "callout_style"
sources = ["press.callout_style", "press.callouts.style", "callout_style"]

[latex.template.attributes.glossary]
default = false
type = "boolean"
sources = ["press.glossary", "glossary"]

[latex.template.attributes.glossary_style]
default = "long3col"
type = "string"
allow_empty = false
sources = ["press.glossary.style", "press.glossary_style", "glossary_style"]

[latex.template.attributes.listoffigures]
default = true
type = "boolean"
sources = ["press.listoffigures", "listoffigures"]

[latex.template.attributes.listoftables]
default = true
type = "boolean"
sources = ["press.listoftables", "listoftables"]

[latex.template.attributes.preamble]
default = ""
type = "string"
allow_empty = true
sources = ["press.override.preamble", "press.preamble", "preamble"]

[latex.template.slots.frontmatter]
depth = "chapter"

[latex.template.slots.dedication]
depth = "chapter"
strip_heading = true

[latex.template.slots.mainmatter]
default = true
depth = "chapter"

[latex.template.slots.preface]
base_level = 0

[latex.template.slots.backmatter]
depth = "chapter"

[latex.template.slots.colophon]
depth = "chapter"
strip_heading = true

[latex.template.assets]
"covers" = { source = "covers" }
"covers/circles.tex" = { source = "covers/circles.tex", template = true }
"titlepage.tex" = { source = "template/titlepage.tex", template = true }
"imprint.tex" = { source = "template/imprint.tex", template = true }
".latexmkrc" = { source = "../common/latexmkrc", template = true }
