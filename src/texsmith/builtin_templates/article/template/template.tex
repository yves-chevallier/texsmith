\documentclass\VAR{documentclass_options}{article}

\VAR{geometry_setup}
\VAR{extra_packages}
\usepackage{hyphenat}
\usepackage[\VAR{language|default('english')}]{babel}
\usepackage{booktabs}
\usepackage{csquotes}
\usepackage{amsmath}
\usepackage[normalem]{ulem} % Strikethrough text with \sout{}
\usepackage{soul} % Highlighting text with \hl{}
\usepackage{keystroke} % Keystroke package
\usepackage{todolist}
\usepackage{progressbar}
\usepackage{float}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage{adjustbox}

\BLOCK{ if bibliography_resource }
\usepackage[
  backend=biber,
  style=\VAR{bibliography_style|default('numeric')},
]{biblatex}
\addbibresource{\VAR{bibliography_resource}}
\BLOCK{ endif }

\BLOCK{ if preamble }
% Custom document preamble injected from front matter overrides.
\VAR{preamble|safe}

\BLOCK{ endif }

\BLOCK{ set has_title_metadata = title|default('')|trim }
\BLOCK{ if has_title_metadata }
\title{\VAR{title}\BLOCK{ if subtitle }\\\large \VAR{subtitle}\BLOCK{ endif }}
\BLOCK{ if author }\author{\VAR{author}}\BLOCK{ else }\author{}\BLOCK{ endif }
\date{\VAR{date}}
\BLOCK{ endif }

\begin{document}

\BLOCK{ if has_title_metadata }
\maketitle
\BLOCK{ endif }
\BLOCK{ if not page_numbers }
\pagenumbering{gobble}
\thispagestyle{empty}
\pagestyle{empty}
\BLOCK{ endif }

\BLOCK{ if abstract }
\begin{abstract}
\VAR{abstract}
\end{abstract}
\BLOCK{ endif }
\BLOCK{ if toc }
\tableofcontents
\BLOCK{ endif }

\VAR{mainmatter}

\VAR{backmatter}
\VAR{fragment_backmatter}

\BLOCK{ if citations and bibliography_resource }
\printbibliography
\BLOCK{ endif }

\end{document}
