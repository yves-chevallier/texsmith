% callouts.sty â€” Callout boxes with tcolorbox + FontAwesome
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{callouts}[2025/10/27 Callout boxes with tcolorbox + FontAwesome]

% --- Required packages ---
\RequirePackage{xcolor}
\RequirePackage{tcolorbox}
\tcbuselibrary{breakable,skins}
\RequirePackage{fontawesome5}

% --- Colors ---
\definecolor{calloutNoteBg}{HTML}{ECF3FF}
\definecolor{calloutNoteFrame}{HTML}{448AFF}
\definecolor{calloutAbstractBg}{HTML}{E5F7FF}
\definecolor{calloutAbstractFrame}{HTML}{00B0FF}
\definecolor{calloutInfoBg}{HTML}{E5F8FB}
\definecolor{calloutInfoFrame}{HTML}{00B8D4}
\definecolor{calloutTipBg}{HTML}{E5F8F6}
\definecolor{calloutTipFrame}{HTML}{00BFA5}
\definecolor{calloutSuccessBg}{HTML}{E5F9ED}
\definecolor{calloutSuccessFrame}{HTML}{00C853}
\definecolor{calloutQuestionBg}{HTML}{EFFCE7}
\definecolor{calloutQuestionFrame}{HTML}{64DD17}
\definecolor{calloutWarningBg}{HTML}{FFF4E5}
\definecolor{calloutWarningFrame}{HTML}{FF9E1D}
\definecolor{calloutFailureBg}{HTML}{FFEDED}
\definecolor{calloutFailureFrame}{HTML}{FF5252}
\definecolor{calloutDangerBg}{HTML}{FFE7EC}
\definecolor{calloutDangerFrame}{HTML}{FF1744}
\definecolor{calloutBugBg}{HTML}{FEE5EE}
\definecolor{calloutBugFrame}{HTML}{F50057}
\definecolor{calloutExampleBg}{HTML}{F2EDFF}
\definecolor{calloutExampleFrame}{HTML}{7C4DFF}
\definecolor{calloutQuoteBg}{HTML}{F5F5F5}
\definecolor{calloutQuoteFrame}{HTML}{9E9E9E}
\definecolor{calloutExerciseBg}{HTML}{F5F5F5}
\definecolor{calloutExerciseFrame}{HTML}{202020}
\definecolor{calloutDefaultBg}{HTML}{F0F0F0}
\definecolor{calloutDefaultFrame}{HTML}{808080}

% --- Styles (tcbset) ---
\tcbset{
  callout note/.style={
    colbacktitle=calloutNoteBg,
    colframe=calloutNoteFrame,
    coltitle=calloutNoteFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutNoteFrame},
    title={\makebox[1.3em][c]{\faBookmark}},
  },
  callout abstract/.style={
    colbacktitle=calloutAbstractBg,
    colframe=calloutAbstractFrame,
    coltitle=calloutAbstractFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutAbstractFrame},
    title={\makebox[1.3em][c]{\faLaptopCode}},
  },
  callout info/.style={
    colbacktitle=calloutInfoBg,
    colframe=calloutInfoFrame,
    coltitle=calloutInfoFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutInfoFrame},
    title={\makebox[1.3em][c]{\faComment}},
  },
  callout tip/.style={
    colbacktitle=calloutTipBg,
    colframe=calloutTipFrame,
    coltitle=calloutTipFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutTipFrame},
    title={\makebox[1.3em][c]{\faLightbulb}},
  },
  callout success/.style={
    colbacktitle=calloutSuccessBg,
    colframe=calloutSuccessFrame,
    coltitle=calloutSuccessFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutSuccessFrame},
    title={\makebox[1.3em][c]{\faCheck}},
  },
  callout warning/.style={
    colbacktitle=calloutWarningBg,
    colframe=calloutWarningFrame,
    coltitle=calloutWarningFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutWarningFrame},
    title={\makebox[1.3em][c]{\faBolt}},
  },
  callout failure/.style={
    colbacktitle=calloutFailureBg,
    colframe=calloutFailureFrame,
    coltitle=calloutFailureFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutFailureFrame},
    title={\makebox[1.3em][c]{\faExclamationTriangle}},
  },
  callout important/.style={
    colbacktitle=calloutDangerBg,
    colframe=calloutDangerFrame,
    coltitle=calloutDangerFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutDangerFrame},
    title={\makebox[1.3em][c]{\faExclamationTriangle}},
  },
  callout hint/.style={
    colbacktitle=calloutTipBg,
    colframe=calloutTipFrame,
    coltitle=calloutTipFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutTipFrame},
    title={\makebox[1.3em][c]{\faLightbulb}},
  },
  callout danger/.style={
    colbacktitle=calloutDangerBg,
    colframe=calloutDangerFrame,
    coltitle=calloutDangerFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutDangerFrame},
    title={\makebox[1.3em][c]{\faExclamationTriangle}},
  },
  callout bug/.style={
    colbacktitle=calloutBugBg,
    colframe=calloutBugFrame,
    coltitle=calloutBugFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutBugFrame},
    title={\makebox[1.3em][c]{\faBomb}},
  },
  callout example/.style={
    colbacktitle=calloutExampleBg,
    colframe=calloutExampleFrame,
    coltitle=calloutExampleFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutExampleFrame},
    title={\makebox[1.3em][c]{\faFlask}},
  },
  callout quote/.style={
    colbacktitle=calloutQuoteBg,
    colframe=calloutQuoteFrame,
    coltitle=calloutQuoteFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutQuoteFrame},
    title={\makebox[1.3em][c]{\faQuestionCircle}},
  },
  callout question/.style={
    colbacktitle=calloutQuestionBg,
    colframe=calloutQuestionFrame,
    coltitle=calloutQuestionFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutQuestionFrame},
    title={\makebox[1.3em][c]{\faQuestionCircle}},
  },
  callout solution/.style={
    colbacktitle=gray!40!white,
    title={\textcolor{black}{\makebox[1.3em][l]{\faComment}}},
  },
  callout default/.style={
    colbacktitle=calloutDefaultBg,
    colframe=calloutDefaultFrame,
    coltitle=calloutDefaultFrame!80!black,
    borderline west={0.3mm}{0mm}{calloutDefaultFrame},
    title={\textcolor{black}{\makebox[1.3em][l]{\faComment}}},
  }
}

% --- Base environment ---
\newtcolorbox{callout}[2][]{%
  breakable,
  enhanced,
  title filled, % to color the title background
  arc=0mm,
  boxrule=0mm,
  titlerule=0mm,
  lefttitle=1mm,
  leftupper=1mm,
  colback=white,
  parbox=false, % allow paragraph breaks inside the box
  frame hidden,
  borderline west={0.3mm}{0mm}{black!70},
  #1,
  after title={~#2}%
}
