\documentclass\BLOCK{ if documentclass_options }[\VAR{documentclass_options}]\BLOCK{ endif }{\VAR{documentclass_name}}

\usepackage{cas-common}
\usepackage{fontspec}
\usepackage{microtype}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{amsmath,amssymb}
\usepackage{mathtools}
\usepackage{array}
\usepackage{multirow}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage[many,minted]{tcolorbox}
\usepackage[authoryear,longnamesfirst]{natbib}

\tcbuselibrary{skins, breakable, minted}
\setlength{\parindent}{1em}
\setlength{\parskip}{0.5em}

\setminted{fontsize=\footnotesize, breaklines, autogobble, tabsize=4}
\usemintedstyle{friendly}

\newtcblisting[auto counter,number within=section,
  list inside=mypyg]{code}[4][]{%
  breakable,
  listing only,
  enhanced,
  colback=white,
  pad at break*=1mm,
  toptitle=0.15em,
  bottomtitle=0.1em,
  boxrule=0mm,
  frame hidden,
  minted language=#2,
  top=1mm,
  bottom=1mm,
  minted options={%
      breaklines,
      tabsize=4,
      autogobble,
      fontsize=\footnotesize,
      highlightcolor=yellow!20,
      #4
    },
  title={#3},
  list entry={\protect\numberline{\thetcbcounter}#3},
  #1
}

\raggedbottom

\begin{document}
\let\WriteBookmarks\relax
\def\floatpagepagefraction{1}
\def\textpagefraction{0.001}

\shorttitle{\VAR{short_title or title}}
\shortauthors{\VAR{short_authors or default_short_authors}}
\title[mode = title]{\VAR{title}\BLOCK{ if subtitle }\\{\small \VAR{subtitle}}\BLOCK{ endif }}

\BLOCK{ if title_note }\tnotemark[\VAR{title_note.mark}]\tnotetext[\VAR{title_note.mark}]{\VAR{title_note.text}}\BLOCK{ endif }

\BLOCK{ for author in author_entries }
\author\BLOCK{ if author.indices }[\VAR{author.indices_str}]\BLOCK{ endif }{\VAR{author.name}}
\BLOCK{ if author.corr_mark }\cormark[\VAR{author.corr_mark}]\BLOCK{ endif }
\BLOCK{ if author.footnote_mark }\fnmark[\VAR{author.footnote_mark}]\BLOCK{ endif }
\BLOCK{ if author.email }\ead{\VAR{author.email}}\BLOCK{ endif }
\BLOCK{ if author.url }\ead[url]{\VAR{author.url}}\BLOCK{ endif }
\BLOCK{ if author.orcid }\ead[orcid]{\VAR{author.orcid}}\BLOCK{ endif }
\BLOCK{ if author.credit }\credit{\VAR{author.credit}}\BLOCK{ endif }
\BLOCK{ endfor }

\BLOCK{ for affiliation in affiliation_entries }
\affiliation\BLOCK{ if affiliation.id }[\VAR{affiliation.id}]\BLOCK{ endif }{\VAR{affiliation.render}}
\BLOCK{ endfor }

\BLOCK{ for note in correspondence_entries }
\cortext[\VAR{note.mark}]{\VAR{note.text}}
\BLOCK{ endfor }

\BLOCK{ if footnote_entries }
\BLOCK{ for note in footnote_entries }
\fntext[\VAR{note.mark}]{\VAR{note.text}}
\BLOCK{ endfor }
\BLOCK{ endif }

\BLOCK{ if abstract }
\begin{abstract}
\VAR{abstract}
\end{abstract}
\BLOCK{ endif }

\BLOCK{ if highlights }
\begin{highlights}
\BLOCK{ for item in highlights }
\item \VAR{item}
\BLOCK{ endfor }
\end{highlights}
\BLOCK{ endif }

\BLOCK{ if keywords }
\begin{keywords}
\VAR{keywords_joined}
\end{keywords}
\BLOCK{ endif }

\maketitle

\BLOCK{ if graphical_abstract }
\begin{graphicalabstract}
\includegraphics{\VAR{graphical_abstract}}
\end{graphicalabstract}
\BLOCK{ endif }

\VAR{frontmatter}

\VAR{mainmatter}

\VAR{backmatter}

\BLOCK{ if bibliography_style }\bibliographystyle{\VAR{bibliography_style}}\BLOCK{ endif }
\BLOCK{ if bibliography }\bibliography{\VAR{bibliography}}\BLOCK{ endif }

\end{document}
